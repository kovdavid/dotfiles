IBM_TRACKPOINT="TPPS/2 IBM TrackPoint"
ELAN_TRACKPOINT="TPPS/2 Elan TrackPoint"
TOUCHPAD="SynPS/2 Synaptics TouchPad"

if xinput list | grep -q "$IBM_TRACKPOINT" ; then
    xinput set-prop "$IBM_TRACKPOINT" "Evdev Wheel Emulation" 1
    xinput set-prop "$IBM_TRACKPOINT" "Evdev Wheel Emulation Button" 2
    xinput set-prop "$IBM_TRACKPOINT" "Evdev Wheel Emulation Timeout" 200
    xinput set-prop "$IBM_TRACKPOINT" "Evdev Wheel Emulation Axes" 6 7 4 5
    xinput set-prop "$IBM_TRACKPOINT" "Evdev Middle Button Emulation" 1
    xinput set-prop "$IBM_TRACKPOINT" "Evdev Middle Button Timeout" 50
fi
if xinput list | grep -q "$ELAN_TRACKPOINT" ; then
    xinput set-prop "$ELAN_TRACKPOINT" "libinput Middle Emulation Enabled" 1
    xinput set-prop "$ELAN_TRACKPOINT" "libinput Accel Profile Enabled" 0, 0
fi
if xinput list | grep -q "$TOUCHPAD" ; then
    xinput set-prop "$TOUCHPAD" "libinput Tapping Enabled" 1
    xinput set-prop "$TOUCHPAD" "libinput Tapping Button Mapping Enabled" 0, 1
    xinput set-prop "$TOUCHPAD" "libinput Middle Emulation Enabled" 1
fi
xset r 108
